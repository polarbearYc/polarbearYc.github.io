<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI化学工具箱 - 交互界面</title>
    <!-- 外部 CSS 和字体 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 顶部导航栏 -->
    <header class="app-header">
        <div class="logo">
            <i class="fas fa-flask logo-icon"></i>
            <span>AI化学工具箱</span>
        </div>
        <nav class="user-nav">
            <button class="nav-button" id="help-button"><i class="fas fa-question-circle"></i> 帮助</button>
            <button class="nav-button" id="settings-button" disabled><i class="fas fa-cog"></i> 设置</button>
            <div class="user-avatar" id="user-avatar" title="登录功能待开发">
                <i class="fas fa-user"></i>
            </div>
        </nav>
    </header>

    <div class="app-container">
        <!-- 左侧导航 -->
        <aside class="sidebar">
            <ul class="nav-menu">
                <li class="active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </li>
                <li data-page="toolbox">
                    <i class="fas fa-toolbox"></i>
                    <span>工具箱</span>
                </li>
                <li data-page="cases">
                    <i class="fas fa-book"></i>
                    <span>案例库</span>
                </li>
                <li data-page="ai-lab">
                    <i class="fas fa-robot"></i>
                    <span>AI助手</span>
                </li>
            </ul>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-name">访客用户</div>
                    <div class="user-status">未登录</div>
                </div>
            </div>
        </aside>

        <!-- 主工作区 -->
        <main class="workspace">
            
            <!-- 页面1: 首页 (默认显示) -->
            <div id="page-home" class="workspace-page active-page">
                <!-- 工具箱区域 (首页版) -->
                <div class="toolbox-section" id="toolbox-section-home">
                    <div class="section-title">
                        <i class="fas fa-toolbox"></i>
                        <span>Syslab APP 工具箱</span>
                    </div>
                    <div class="toolbox-grid">
                        <!-- CST 建模 APP -->
                        <div class="toolbox-item" data-tool="syslab-cst">
                            <div class="toolbox-icon" style="background-color: #0d47a1;">
                                <i class="fas fa-cube"></i>
                            </div>
                            <div class="toolbox-name">CST 超表面建模</div>
                            <div class="toolbox-desc">相位计算并生成VBS脚本 (Syslab APP)</div>
                        </div>
                        <!-- 动力学 APP -->
                        <div class="toolbox-item" data-tool="syslab-kinetics">
                            <div class="toolbox-icon" style="background-color: #34a853;">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="toolbox-name">化学动力学Pro</div>
                            <div class="toolbox-desc">A+B ⇌ C+D 可逆反应模拟 (Syslab APP)</div>
                        </div>
                         <!-- 占位工具 -->
                        <div class="toolbox-item" data-tool="orbital">
                            <div class="toolbox-icon">
                                <i class="fas fa-atom"></i>
                            </div>
                            <div class="toolbox-name">分子轨道可视化</div>
                            <div class="toolbox-desc">原子轨道分布图和电子云可视化</div>
                        </div>
                        <div class="toolbox-item" data-tool="electrochemistry">
                            <div class="toolbox-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="toolbox-name">电化学参数计算</div>
                            <div class="toolbox-desc">最小二乘迭代解法计算动力学参数</div>
                        </div>
                    </div>
                </div>
                <!-- 案例库区域 (首页版) -->
                <div class="case-library" id="case-library-home">
                    <div class="section-title">
                        <i class="fas fa-book"></i>
                        <span>AI+化学 热门案例</span>
                    </div>
                    <!-- (新) 列表式案例 -->
                    <div class="list-group" id="cases-container-home">
                        <!-- JS 动态加载 -->
                    </div>
                </div>
                <!-- AI聊天框 (首页版) -->
                <div class="ai-chatbox" id="ai-chatbox-home">
                    <!-- ... AI 聊天框的 HTML (与原版相同) ... -->
                    <div class="chat-header">
                        <i class="fas fa-robot"></i>
                        <span>化学AI助手 (模拟)</span>
                    </div>
                    <div class="chat-messages" id="chat-messages-home">
                        <div class="message ai">
                            您好！我是化学AI助手，可以回答您关于化学计算、分子可视化等各种问题。
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chat-input-home" placeholder="输入您的问题...">
                        <button id="send-message-home"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>

            <!-- 页面2: 工具箱详情页 (Syslab CST) -->
            <div id="page-tool-cst" class="workspace-page tool-detail-page">
                <button class="btn btn-light btn-sm btn-back" data-target="toolbox"><i class="fas fa-arrow-left me-2"></i>返回工具箱</button>
                <div class="section-title mt-3">
                    <i class="fas fa-cube" style="color: #0d47a1;"></i>
                    <span>CST 超表面自动建模</span>
                </div>
                <div class="row">
                    <div class="col-md-7">
                        <h4>功能介绍</h4>
                        <p>本工具是为电磁超表面设计而开发的 Syslab 桌面应用 (APP)。它集成了参数化的相位分布计算（如涡旋波、波束偏转、馈源补偿）和 CST Studio Suite™ 的自动化建模接口。</p>
                        <p>用户在 APP 中输入所需物理参数后，APP 会自动计算出超表面阵列所需的相位矩阵。之后，APP 会**生成一个 `.vbs` 脚本**。用户只需将此脚本拖入 CST 模板工程中，即可在几秒钟内自动完成整个阵列的创建，极大提升了仿真建模效率。</p>
                        
                        <h4 class="mt-4">下载与安装指南 (Syslab)</h4>
                        <ol class="install-steps">
                            <li>
                                <strong>下载 APP 文件:</strong>
                                <p>从 GitHub 仓库下载所有 APP 安装文件 (一个包含 .exe 和依赖项的文件夹)。</p>
                                <a href="https://github.com/polarbearYc/syslabapp.git" class="btn btn-success" target="_blank">
                                    <i class="fab fa-github me-2"></i>访问 GitHub 仓库
                                </a>
                            </li>
                            <li>
                                <strong>放置 APP 文件夹:</strong>
                                <p>将下载并解压的 APP 文件夹（例如 `CstModelerTool`）复制到 Syslab 推荐的用户 APP 目录中：<br><code>C:/Users/Public/TongYuan/syslab-julia/Apps/</code></p>
                            </li>
                            <li>
                                <strong>注册 APP:</strong>
                                <p>打开 Syslab，点击顶部 Ribbon 菜单的 "APP" -> "安装 APP"。</p>
                            </li>
                            <li>
                                <strong>填写配置:</strong>
                                <p>在弹出的对话框中，填写以下**关键信息**：</p>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><b>APP 名称:</b> <code>CST 建模工具</code> (必须与启动脚本匹配)</li>
                                    <li class="list-group-item"><b>APP 启动脚本:</b> <code>SyslabApp.start("CST 建模工具")</code></li>
                                    <li class="list-group-item"><b>APP 可执行文件路径:</b> (点击“浏览”，选择您在步骤2中放置的 `.exe` 文件)</li>
                                    <li class="list-group-item"><b>APP 图标:</b> (可选, 浏览并选择文件夹中的 `.ico` 文件)</li>
                                </ul>
                            </li>
                            <li>
                                <strong>完成:</strong>
                                <p>点击“确定”。您的 APP 图标现在会出现在 Syslab 的 "APP" 菜单页中，点击即可运行。</p>
                            </li>
                        </ol>
                    </div>
                    <div class="col-md-5">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">APP 概览</h5>
                                <p class="card-text">一个基于 PyQt5 和 Syslab SDK 开发的桌面应用，用于自动化电磁仿真建模。</p>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i>相位计算 (A→B)</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>VBS 脚本导出</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>100% 离线运行</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Syslab 工作区交互</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 页面3: 工具箱详情页 (Syslab 动力学) -->
            <div id="page-tool-kinetics" class="workspace-page tool-detail-page">
                <button class="btn btn-light btn-sm btn-back" data-target="toolbox"><i class="fas fa-arrow-left me-2"></i>返回工具箱</button>
                <div class="section-title mt-3">
                    <i class="fas fa-chart-line" style="color: #34a853;"></i>
                    <span>化学动力学Pro (A + B ⇌ C + D)</span>
                </div>
                 <div class="row">
                    <div class="col-md-7">
                        <h4>功能介绍</h4>
                        <p>本工具是为物理化学教学和研究而开发的 Syslab 桌面应用 (APP)。它提供了一个交互式沙盒，用于模拟高级的**二级可逆反应 (`A + B ⇌ C + D`)**。</p>
                        <p>APP 采用专业的 Python 科学计算库 (<strong>SciPy</strong>) 作为后端求解器，通过高精度常微分方程 (ODE) 求解器实时计算四种物质（A, B, C, D）的浓度变化。用户可以通过滑动条**实时调整正向速率 (`kf`) 和逆向速率 (`kr`)**，并立即在图表上观察到“化学平衡”的移动。APP 还会自动计算并显示关键的**平衡常数 (`K_eq`)**。</p>
                        
                        <h4 class="mt-4">下载与安装指南 (Syslab)</h4>
                        <ol class="install-steps">
                            <li>
                                <strong>下载 APP 文件:</strong>
                                <p>从 GitHub 仓库下载所有 APP 安装文件 (一个包含 .exe 和依赖项的文件夹)。</p>
                                <a href="https://github.com/polarbearYc/syslab2.git" class="btn btn-success" target="_blank">
                                    <i class="fab fa-github me-2"></i>访问 GitHub 仓库
                                </a>
                            </li>
                            <li>
                                <strong>放置 APP 文件夹:</strong>
                                <p>将下载并解压的 APP 文件夹（例如 `KineticsSimPro`）复制到 Syslab 推荐的用户 APP 目录中：<br><code>C:/Users/Public/TongYuan/syslab-julia/Apps/</code></p>
                            </li>
                            <li>
                                <strong>注册 APP:</strong>
                                <p>打开 Syslab，点击顶部 Ribbon 菜单的 "APP" -> "安装 APP"。</p>
                            </li>
                            <li>
                                <strong>填写配置:</strong>
                                <p>在弹出的对话框中，填写以下**关键信息**：</p>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><b>APP 名称:</b> <code>化学动力学Pro</code> (必须与启动脚本匹配)</li>
                                    <li class="list-group-item"><b>APP 启动脚本:</b> <code>SyslabApp.start("化学动力学Pro")</code></li>
                                    <li class="list-group-item"><b>APP 可执行文件路径:</b> (点击“浏览”，选择您在步骤2中放置的 `.exe` 文件)</li>
                                </ul>
                            </li>
                            <li>
                                <strong>完成:</strong>
                                <p>点击“确定”。您的 APP 图标现在会出现在 Syslab 的 "APP" 菜单页中，点击即可运行。</p>
                            </li>
                        </ol>
                    </div>
                    <div class="col-md-5">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">APP 概览</h5>
                                <p class="card-text">一个基于 PyQt5, Matplotlib 和 SciPy 开发的桌面应用，用于高级化学动力学模拟。</p>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i>SciPy 高精度求解</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>实时参数调整</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>化学平衡可视化</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>100% 离线运行</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Syslab 工作区交互</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 页面4: 完整工具箱页 -->
            <div id="page-toolbox" class="workspace-page">
                <div class="toolbox-section">
                    <div class="section-title">
                        <i class="fas fa-toolbox"></i>
                        <span>化学工具箱</span>
                    </div>
                    <div class="toolbox-grid">
                        <!-- CST 建模 APP -->
                        <div class="toolbox-item" data-tool="syslab-cst">
                            <div class="toolbox-icon" style="background-color: #0d47a1;">
                                <i class="fas fa-cube"></i>
                            </div>
                            <div class="toolbox-name">CST 超表面建模</div>
                            <div class="toolbox-desc">相位计算并生成VBS脚本 (Syslab APP)</div>
                        </div>
                        <!-- 动力学 APP -->
                        <div class="toolbox-item" data-tool="syslab-kinetics">
                            <div class="toolbox-icon" style="background-color: #34a853;">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="toolbox-name">化学动力学Pro</div>
                            <div class="toolbox-desc">A+B ⇌ C+D 可逆反应模拟 (Syslab APP)</div>
                        </div>
                        <!-- 占位工具 -->
                        <div class="toolbox-item" data-tool="orbital">
                            <div class="toolbox-icon">
                                <i class="fas fa-atom"></i>
                            </div>
                            <div class="toolbox-name">分子轨道可视化</div>
                            <div class="toolbox-desc">原子轨道分布图和电子云可视化</div>
                        </div>
                        <div class="toolbox-item" data-tool="titration">
                            <div class="toolbox-icon">
                                <i class="fas fa-vial"></i>
                            </div>
                            <div class="toolbox-name">酸碱滴定优化</div>
                            <div class="toolbox-desc">利用AI优化实验减小误差</div>
                        </div>
                        <div class="toolbox-item" data-tool="electrochemistry">
                            <div class="toolbox-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="toolbox-name">电化学参数计算</div>
                            <div class="toolbox-desc">最小二乘迭代解法计算动力学参数</div>
                        </div>
                        <div class="toolbox-item" data-tool="reaction-path">
                            <div class="toolbox-icon">
                                <i class="fas fa-project-diagram"></i>
                            </div>
                            <div class="toolbox-name">反应路径规划</div>
                            <div class="toolbox-desc">基于多智能体系统的合成路径优化</div>
                        </div>
                        <div class="toolbox-item" data-tool="catalyst">
                            <div class="toolbox-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="toolbox-name">催化剂预测</div>
                            <div class="toolbox-desc">机器学习算法选择合成氨催化剂</div>
                        </div>
                        <div class="toolbox-item" data-tool="molecule-analysis">
                            <div class="toolbox-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="toolbox-name">有机分子数据分析</div>
                            <div class="toolbox-desc">从PubChem/ChEMBL采集数据</div>
                        </div>
                        <div class="toolbox-item" data-tool="structure-prediction">
                            <div class="toolbox-icon">
                                <i class="fas fa-shapes"></i>
                            </div>
                            <div class="toolbox-name">分子结构预测</div>
                            <div class="toolbox-desc">基于AI的分子3D结构预测与优化</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 页面5: 完整案例库页 -->
            <div id="page-cases" class="workspace-page">
                <div class="case-library">
                    <div class="section-title">
                        <i class="fas fa-book"></i>
                        <span>AI+化学 案例文献库</span>
                    </div>
                    
                    <!-- 搜索筛选区 -->
                    <div class="filter-section">
                        <div class="row g-2">
                            <div class="col-md-5">
                                <input type="text" class="form-control" id="search-input" placeholder="在 40+ 篇文献中搜索...">
                            </div>
                            <div class="col-md-4">
                                <select class="form-select" id="domain-filter">
                                    <!-- JS 动态加载 -->
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-select" id="tech-filter">
                                    <!-- JS 动态加载 -->
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- (新) 案例展示区 (列表) -->
                    <div class="list-group" id="cases-container-full">
                        <!-- JS 动态加载 -->
                    </div>
                </div>
            </div>

            <!-- 页面6: AI 助手页 -->
            <div id="page-ai-lab" class="workspace-page">
                <!-- AI聊天框 (完整页) -->
                <div class="ai-chatbox" id="ai-chatbox-full">
                    <div class="chat-header">
                        <i class="fas fa-robot"></i>
                        <span>化学AI助手 (模拟)</span>
                    </div>
                    <div class="chat-messages" id="chat-messages-full">
                        <div class="message ai">
                            您好！我是化学AI助手，可以回答您关于化学计算、分子可视化等各种问题。
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chat-input-full" placeholder="输入您的问题...">
                        <button id="send-message-full"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>

        </main>
    </div>
    
    <!-- 模态框 (用于帮助和未实现的工具) -->
    <div class="modal" id="tool-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal-button">&times;</span>
            <div class="modal-title" id="modal-title">工具详情</div>
            <div id="modal-content">
                <!-- 动态内容将在这里显示 -->
            </div>
        </div>
    </div>

    <!-- 外部 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
